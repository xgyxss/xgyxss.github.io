---
title: flutter报错处理-二
date: 2022-03-31 20:00:00
tags: [flutter, 报错处理, TBC, 202203]
categories: 解决方案
---

本来是一个简单的报错：`Cannot fit requested classes in a single dex file`，绕了一大圈，最终解决。

报错教训吸取：**从上往下按报错顺序排查错误**。

下面是弯路历程...

<!-- more -->

跳过中间的闲言碎语，直接查本报错的根源，<a href="#target1">点击这里</a>。

开门见山直接抛问题，运行启动app报的错误如下：

```bash
注: 某些输入文件使用或覆盖了已过时的 API。
注: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。
D8: Cannot fit requested classes in a single dex file (# methods: 74485 > 65536)
com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: 
The number of method references in a .dex file cannot exceed 64K.
Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html
	at com.android.builder.dexing.D8DexArchiveMerger.getExceptionToRethrow(D8DexArchiveMerger.java:132)
	at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:119)
	at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:102)
	at com.android.build.gradle.internal.tasks.DexMergingTaskRunnable.run(DexMergingTask.kt:432)
	at com.android.build.gradle.internal.tasks.Workers$ActionFacade.run(Workers.kt:242)
	at org.gradle.workers.internal.AdapterWorkAction.execute(AdapterWorkAction.java:57)
	at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)
	at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:67)
	at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:63)
	at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)
	at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:63)
	at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)
	at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)
	at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)
	at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)
	at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)
	at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)
	at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)
	at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)
	at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)
	at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)
	at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)
	at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:60)
	at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:200)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:215)
	at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)
	at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete, position: null
	at Version.fakeStackEntry(Version_2.1.62.java:0)
	at com.android.tools.r8.utils.Y.a(SourceFile:78)
	at com.android.tools.r8.D8.run(D8.java:11)
	at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:117)
	... 36 more
Caused by: com.android.tools.r8.utils.b: Cannot fit requested classes in a single dex file (# methods: 74485 > 65536)
	at com.android.tools.r8.utils.T0.error(SourceFile:1)
	at com.android.tools.r8.utils.T0.a(SourceFile:2)
	at com.android.tools.r8.dex.P.a(SourceFile:740)
	at com.android.tools.r8.dex.P$h.a(SourceFile:7)
	at com.android.tools.r8.dex.b.a(SourceFile:14)
	at com.android.tools.r8.dex.b.b(SourceFile:25)
	at com.android.tools.r8.D8.d(D8.java:133)
	at com.android.tools.r8.D8.b(D8.java:1)
	at com.android.tools.r8.utils.Y.a(SourceFile:36)
	... 38 more


FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:mergeDexDebug'.
> A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade
   > com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: 
     The number of method references in a .dex file cannot exceed 64K.
     Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 1m 37s
[!] App requires Multidex support
┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────────┐
│ Flutter multidex handling is disabled. If you wish to let the tool configure multidex, use the │
│ --mutidex flag.                                                                                │
└────────────────────────────────────────────────────────────────────────────────────────────────┘
Exception: Gradle task assembleDebug failed with exit code 1
Exited (sigterm)

```

当前的环境：

`flutter doctor -v`

```bash
[✓] Flutter (Channel stable, 2.10.4, on macOS 12.3 21E230 darwin-x64, locale zh-Hans-CN)
    • Flutter version 2.10.4 at /Users/guanguan/Applications/flutter
    • Upstream repository https://github.com/flutter/flutter.git
    • Framework revision c860cba910 (5 天前), 2022-03-25 00:23:12 -0500
    • Engine revision 57d3bac3dd
    • Dart version 2.16.2
    • DevTools version 2.9.2
    • Pub download mirror https://pub.flutter-io.cn
    • Flutter download mirror https://storage.flutter-io.cn

[✓] Android toolchain - develop for Android devices (Android SDK version 29.0.2)
    • Android SDK at /Users/guanguan/Library/Android/sdk
    • Platform android-31, build-tools 29.0.2
    • Java binary at: /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java
    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)
    • All Android licenses accepted.

[✓] Xcode - develop for iOS and macOS (Xcode 13.3)
    • Xcode at /Applications/Xcode.app/Contents/Developer
    • CocoaPods version 1.10.1

[✓] Chrome - develop for the web
    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome

[✓] Android Studio (version 4.1)
    • Android Studio at /Applications/Android Studio.app/Contents
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart
    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)

[✓] IntelliJ IDEA Ultimate Edition (version 2021.1.1)
    • IntelliJ at /Applications/IntelliJ IDEA.app
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart

[✓] VS Code (version 1.65.2)
    • VS Code at /Applications/Visual Studio Code.app/Contents
    • Flutter extension version 3.36.0

[✓] Connected device (2 available)
    • Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 8.0.0 (API 26)
      (emulator)
    • Chrome (web)                       • chrome        • web-javascript • Google Chrome 100.0.4896.60

[!] HTTP Host Availability
    ✗ HTTP host https://maven.google.com/ is not reachable. Reason: An error occurred while checking the
      HTTP host: Operation timed out

! Doctor found issues in 1 category.
```

[官网这里](https://docs.flutter.dev/development/tools/flutter-fix#:~:text=in%20VS%20Code-,Applying%20project%2Dwide%20fixes,lifetime%20in%20Flutter%2C%20a%20free%20article%20on%20Flutter%E2%80%99s%20Medium%20publication.,-flutter%2Ddev%40%20terms) 有关于 Flutter Fix 的说明：

修改:

然后查看全部可能的改变：

`dart fix --dry-run`

```bash
Computing fixes in app (dry run)... 53.0s

81 proposed fixes in 30 files.

lib/camera/camera.dart
  unnecessary_import • 2 fixes

lib/common/global.dart
  slash_for_doc_comments • 1 fix
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 1 fix

lib/common/json/JData.dart
  prefer_is_not_empty • 9 fixes
  unnecessary_null_comparison • 2 fixes

lib/common/overlay_util.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/common/provider/ShoppingCartProvider.dart
  non_constant_identifier_names • 2 fixes

lib/common/request.dart
  unused_catch_clause • 1 fix

lib/common/security.dart
  unnecessary_brace_in_string_interps • 3 fixes

lib/common/utils.dart
  deprecated_member_use • 2 fixes
  unnecessary_null_comparison • 4 fixes

lib/common/widget/player.dart
  unnecessary_null_comparison • 3 fixes
  unused_import • 1 fix

lib/home/HomeMainNav.dart
  unused_import • 1 fix

lib/home/HomeSubNav.dart
  unused_import • 1 fix

lib/home/bottomnav.dart
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 1 fix

lib/home/cloud.dart
  unused_import • 1 fix

lib/home/detail.dart
  unnecessary_null_comparison • 1 fix

lib/home/fourdishonesoup.dart
  unnecessary_import • 1 fix

lib/home/home.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/home/meal.dart
  unnecessary_null_comparison • 2 fixes

lib/home/smallcircle.dart
  unnecessary_import • 1 fix

lib/home/spectrumplan.dart
  unused_import • 1 fix

lib/home/sub/facetab.dart
  unused_import • 1 fix

lib/main.dart
  deprecated_member_use • 3 fixes

lib/mine/mine.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/mine/recordingfingerprint.dart
  unused_import • 2 fixes

lib/mine/userinfo.dart
  unused_import • 3 fixes

lib/rice/rice.dart
  unnecessary_brace_in_string_interps • 1 fix

lib/rice/ricebox.dart
  non_constant_identifier_names • 4 fixes
  unnecessary_null_comparison • 1 fix

lib/rice/wechatpay.dart
  unnecessary_import • 1 fix

lib/video/video.dart
  non_constant_identifier_names • 8 fixes
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 5 fixes

lib/vigormeal.dart
  unnecessary_brace_in_string_interps • 1 fix

lib/widget/animation_cart.dart
  slash_for_doc_comments • 1 fix

```

批量应用所有修改：

`dart fix --apply`

```bash
Computing fixes in app...      48.1s
Applying fixes...                      0.0s

lib/camera/camera.dart
  unnecessary_import • 2 fixes

lib/common/global.dart
  slash_for_doc_comments • 1 fix
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 1 fix

lib/common/json/JData.dart
  prefer_is_not_empty • 9 fixes
  unnecessary_null_comparison • 2 fixes

lib/common/overlay_util.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/common/provider/ShoppingCartProvider.dart
  non_constant_identifier_names • 2 fixes

lib/common/request.dart
  unused_catch_clause • 1 fix

lib/common/security.dart
  unnecessary_brace_in_string_interps • 3 fixes

lib/common/utils.dart
  deprecated_member_use • 2 fixes
  unnecessary_null_comparison • 4 fixes

lib/common/widget/player.dart
  unnecessary_null_comparison • 3 fixes
  unused_import • 1 fix

lib/home/HomeMainNav.dart
  unused_import • 1 fix

lib/home/HomeSubNav.dart
  unused_import • 1 fix

lib/home/bottomnav.dart
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 1 fix

lib/home/cloud.dart
  unused_import • 1 fix

lib/home/detail.dart
  unnecessary_null_comparison • 1 fix

lib/home/fourdishonesoup.dart
  unnecessary_import • 1 fix

lib/home/home.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/home/meal.dart
  unnecessary_null_comparison • 2 fixes

lib/home/smallcircle.dart
  unnecessary_import • 1 fix

lib/home/spectrumplan.dart
  unused_import • 1 fix

lib/home/sub/facetab.dart
  unused_import • 1 fix

lib/main.dart
  deprecated_member_use • 3 fixes

lib/mine/mine.dart
  unnecessary_import • 1 fix
  unused_import • 1 fix

lib/mine/recordingfingerprint.dart
  unused_import • 2 fixes

lib/mine/userinfo.dart
  unused_import • 3 fixes

lib/rice/rice.dart
  unnecessary_brace_in_string_interps • 1 fix

lib/rice/ricebox.dart
  non_constant_identifier_names • 4 fixes
  unnecessary_null_comparison • 1 fix

lib/rice/wechatpay.dart
  unnecessary_import • 1 fix

lib/video/video.dart
  non_constant_identifier_names • 8 fixes
  unnecessary_brace_in_string_interps • 1 fix
  unnecessary_import • 5 fixes

lib/vigormeal.dart
  unnecessary_brace_in_string_interps • 1 fix

lib/widget/animation_cart.dart
  slash_for_doc_comments • 1 fix

81 fixes made in 30 files.
```

再次查看：

```bash
Computing fixes in app (dry run)... 23.2s
Nothing to fix!
```

继续运行项目，控制台还是报最初的这个错误，只是问题这栏的个数从 117 减到了 36，只是一些 warning 之类的。

然后在[官网](https://kotlinlang.org/docs/gradle.html#targeting-multiple-platforms)查到了这个，这个绿色的部分的内容为：

> The `kotlin-multiplatform` plugin works with Gradle 6.1 or later.

然后进入 Android Studio 查看 gradle 的版本，一打开就报了一个 IDE Fatal Errors 的窗口，1of1Exception in Studio core.Submitting...

stacktrace.txt

```bash
java.lang.UnsatisfiedLinkError: Unable to load library 'CoreFoundation':
dlopen(libCoreFoundation.dylib, 0x0009): tried: 'libCoreFoundation.dylib' (no such file), '/usr/lib/libCoreFoundation.dylib' (no such file), '//libCoreFoundation.dylib' (no such file)
dlopen(libCoreFoundation.dylib, 0x0009): tried: 'libCoreFoundation.dylib' (no such file), '/usr/lib/libCoreFoundation.dylib' (no such file), '//libCoreFoundation.dylib' (no such file)
Native library (darwin/libCoreFoundation.dylib) not found in resource path (/Applications/Android Studio.app/Contents/lib/bootstrap.jar:/Applications/Android Studio.app/Contents/lib/extensions.jar:/Applications/Android Studio.app/Contents/lib/util.jar:/Applications/Android Studio.app/Contents/lib/jdom.jar:/Applications/Android Studio.app/Contents/lib/log4j.jar:/Applications/Android Studio.app/Contents/lib/trove4j.jar:/Applications/Android Studio.app/Contents/lib/jna.jar:/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/lib/tools.jar)
	at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:302)
	at com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:455)
	at com.sun.jna.Library$Handler.<init>(Library.java:192)
	at com.sun.jna.Native.load(Native.java:596)
	at com.sun.jna.Native.load(Native.java:570)
	at com.intellij.util.text.DateFormatUtil.getMacFormats(DateFormatUtil.java:363)
	at com.intellij.util.text.DateFormatUtil.getDateTimeFormats(DateFormatUtil.java:303)
	at com.intellij.util.text.DateFormatUtil.<clinit>(DateFormatUtil.java:46)
	at com.intellij.openapi.wm.impl.status.StatusPanel$5.run(StatusPanel.java:196)
	at com.intellij.openapi.wm.impl.status.StatusPanel.updateText(StatusPanel.java:205)
	at com.intellij.openapi.wm.impl.status.InfoAndProgressPanel.setText(InfoAndProgressPanel.java:517)
	at com.intellij.openapi.wm.impl.status.IdeStatusBarImpl.lambda$setInfo$5(IdeStatusBarImpl.java:398)
	at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:2319)
	at com.intellij.openapi.wm.impl.status.IdeStatusBarImpl.setInfo(IdeStatusBarImpl.java:396)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.util.messages.impl.MessageBusImpl.invokeListener(MessageBusImpl.java:541)
	at com.intellij.util.messages.impl.MessageBusConnectionImpl.deliverMessage(MessageBusConnectionImpl.java:143)
	at com.intellij.util.messages.impl.MessageBusImpl.doPumpMessages(MessageBusImpl.java:465)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpWaitingBuses(MessageBusImpl.java:426)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpMessages(MessageBusImpl.java:415)
	at com.intellij.util.messages.impl.MessageBusImpl.sendMessage(MessageBusImpl.java:397)
	at com.intellij.util.messages.impl.MessageBusImpl.lambda$createTopicHandler$3(MessageBusImpl.java:237)
	at com.sun.proxy.$Proxy140.setInfo(Unknown Source)
	at com.intellij.openapi.wm.StatusBar$Info.set(StatusBar.java:52)
	at com.intellij.notification.LogModel.setStatusMessage(LogModel.java:72)
	at com.intellij.notification.LogModel.addNotification(LogModel.java:44)
	at com.intellij.notification.EventLog$ProjectTracker.printNotification(EventLog.java:507)
	at com.intellij.notification.EventLog$ProjectTracker.access$400(EventLog.java:446)
	at com.intellij.notification.EventLog$MyNotificationListener.notify(EventLog.java:660)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.util.messages.impl.MessageBusImpl.invokeListener(MessageBusImpl.java:541)
	at com.intellij.util.messages.impl.MessageBusConnectionImpl.deliverMessage(MessageBusConnectionImpl.java:139)
	at com.intellij.util.messages.impl.MessageBusImpl.doPumpMessages(MessageBusImpl.java:465)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpWaitingBuses(MessageBusImpl.java:426)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpMessages(MessageBusImpl.java:415)
	at com.intellij.util.messages.impl.MessageBusImpl.sendMessage(MessageBusImpl.java:397)
	at com.intellij.util.messages.impl.MessageBusImpl.lambda$createTopicHandler$3(MessageBusImpl.java:237)
	at com.sun.proxy.$Proxy143.notify(Unknown Source)
	at com.intellij.notification.Notifications$Bus.doNotify(Notifications.java:84)
	at com.intellij.notification.Notifications$Bus.lambda$notify$1(Notifications.java:73)
	at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:2319)
	at com.intellij.notification.Notifications$Bus.notify(Notifications.java:73)
	at com.intellij.notification.Notification.notify(Notification.java:349)
	at com.intellij.openapi.updateSettings.impl.UpdateChecker.showNotification(UpdateChecker.kt:563)
	at com.intellij.openapi.updateSettings.impl.UpdateChecker.showUpdateResult(UpdateChecker.kt:461)
	at com.intellij.openapi.updateSettings.impl.UpdateChecker.access$showUpdateResult(UpdateChecker.kt:68)
	at com.intellij.openapi.updateSettings.impl.UpdateChecker$doUpdateAndShowResult$2.run(UpdateChecker.kt:177)
	at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:201)
	at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:831)
	at com.intellij.openapi.application.impl.ApplicationImpl.lambda$invokeLater$4(ApplicationImpl.java:310)
	at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:80)
	at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:128)
	at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:46)
	at com.intellij.openapi.application.impl.FlushQueue$FlushNow.run(FlushQueue.java:184)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)
	at java.awt.EventQueue.access$500(EventQueue.java:98)
	at java.awt.EventQueue$3.run(EventQueue.java:715)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:734)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:974)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:847)
	at com.intellij.ide.IdeEventQueue.lambda$null$8(IdeEventQueue.java:449)
	at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:741)
	at com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$9(IdeEventQueue.java:448)
	at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:831)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:496)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
	Suppressed: java.lang.UnsatisfiedLinkError: dlopen(libCoreFoundation.dylib, 0x0009): tried: 'libCoreFoundation.dylib' (no such file), '/usr/lib/libCoreFoundation.dylib' (no such file), '//libCoreFoundation.dylib' (no such file)
		at com.sun.jna.Native.open(Native Method)
		at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:191)
		... 80 more
	Suppressed: java.lang.UnsatisfiedLinkError: dlopen(libCoreFoundation.dylib, 0x0009): tried: 'libCoreFoundation.dylib' (no such file), '/usr/lib/libCoreFoundation.dylib' (no such file), '//libCoreFoundation.dylib' (no such file)
		at com.sun.jna.Native.open(Native Method)
		at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:204)
		... 80 more
	Suppressed: java.io.IOException: Native library (darwin/libCoreFoundation.dylib) not found in resource path (/Applications/Android Studio.app/Contents/lib/bootstrap.jar:/Applications/Android Studio.app/Contents/lib/extensions.jar:/Applications/Android Studio.app/Contents/lib/util.jar:/Applications/Android Studio.app/Contents/lib/jdom.jar:/Applications/Android Studio.app/Contents/lib/log4j.jar:/Applications/Android Studio.app/Contents/lib/trove4j.jar:/Applications/Android Studio.app/Contents/lib/jna.jar:/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/lib/tools.jar)
		at com.sun.jna.Native.extractFromResourcePath(Native.java:1095)
		at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:276)
		... 80 more
```

大致意思是：无法加载库'CoreFoundation'。

找到了一毛一样的 [问题](https://github.com/GoogleCloudPlatform/cloud-code-intellij/issues/2808)，顺着帖子找到这个 [网址](https://youtrack.jetbrains.com/issue/IDEA-244962)，让人无语的是，得出了一个不确定的结论：

> New in macOS Big Sur 11 beta, the system ships with a built-in dynamic linker cache of all system-provided libraries. As part of this change, copies of dynamic libraries are no longer present on the filesystem. Code that attempts to check for dynamic library presence by looking for a file at a path or enumerating a directory will fail. Instead, check for library presence by attempting to dlopen() the path, which will correctly check for the library in the cache.

真是让人无语，竟然是 macOS Big Sur 11 beta 的问题，这个应该不是我这个问题的根本原因，毕竟我的 MBP 当前已经升级到了 12.3。

呃，还是先查看 gradle 的版本，那[Android Studio如何查看Gradle版本](https://blog.csdn.net/qiaoquan3/article/details/70194640)呢？

根据提示，打开【项目】 - 菜单栏【File】-【Project Structure】，【Project】-【Project SDK】处显示\<No SDK\>，然后换成了`Android Apl28Platform`，【Libraries】-【Dart Packages】中有<a name="target2">一个报错</a>，<span style="color:red;">/Users/guanguan/Applications/flutter/.pub-cache/hosted/pub.flutter-io.cn/connectivity_macos-0.2.1+2.lib</span>，可以在【Problems】中看到具体的说明：

> 1.Library Dart Packages has broken classes paths:
> /Users/guanguan/Applications/flutter/.pub-cache/hosted/pub.flutter-io.cn/connectivity_macos-0.2.1+2/lib
> /Users/guanguan/Applications/flutter/.pub-cache/hosted/pub.flutter-io.cn/flutter_plugin_android_lifecycle-2.0.5/lib[Fix]

按照 [这篇文章](https://stackoverflow.com/questions/65502943/library-dart-packages-has-broken-classes-path) 提示：`dart pub cache repair`:

```bash
Downloading test_api 0.2.19...
Downloading typed_data 1.3.0...
Downloading vm_service 6.2.0...
Downloading vm_service 7.1.0...
Downloading vm_service 7.2.0...
Downloading vm_service 7.3.0...
Downloading vm_service 7.5.0...
Downloading vm_service 8.1.0...
Downloading term_glyph 1.2.0...
Downloading stack_trace 1.10.0...
Downloading stream_channel 2.1.0...
Downloading webkit_inspection_protocol 1.0.0...
Downloading usage 4.0.2...
Downloading string_scanner 1.1.0...
Downloading vector_math 2.1.0...
Downloading shelf_static 1.0.0...
Downloading shelf_static 1.1.0...
Downloading sse 3.8.3...
Downloading sse 4.1.0...
Downloading source_span 1.8.0...
Downloading source_span 1.8.1...
Downloading shelf_proxy 1.0.0...
Downloading shelf_proxy 1.0.1...
Downloading shelf 1.1.1...
Downloading shelf 1.1.2...
Downloading shelf 1.1.4...
Downloading shelf 1.2.0...
Downloading pedantic 1.11.0...
Downloading pedantic 1.11.1...
Downloading pool 1.5.0...
Downloading mime 1.0.0...
Downloading mime 1.0.1...
Downloading path 1.8.0...
Downloading path 1.8.1...
Downloading meta 1.3.0...
Downloading meta 1.4.0...
Downloading meta 1.7.0...
Downloading matcher 0.12.10...
Downloading logging 1.0.1...
Downloading logging 1.0.2...
Downloading intl 0.17.0...
Downloading http_parser 4.0.0...
Downloading http_multi_server 3.0.1...
Downloading http 0.13.1...
Downloading http 0.13.2...
Downloading http 0.13.3...
Downloading http 0.13.4...
Downloading fake_async 1.2.0...
Downloading english_words 4.0.0...
Downloading devtools_shared 2.1.1...
Downloading devtools_shared 2.2.1...
Downloading devtools_shared 2.2.2...
Downloading devtools_shared 2.2.3...
Downloading devtools_shared 2.2.4...
Downloading devtools_shared 2.3.2...
Downloading devtools_shared 2.3.3...
Downloading devtools_shared 2.4.0...
Downloading devtools_shared 2.5.0...
Downloading devtools_shared 2.6.0...
Downloading devtools_shared 2.7.0...
Downloading devtools_shared 2.8.0...
Downloading devtools_shared 2.9.2...
Downloading devtools_server 2.1.1...
Downloading devtools_server 2.2.1...
Downloading devtools_server 2.2.2...
Downloading devtools_server 2.2.3...
Downloading devtools_server 2.2.4...
Downloading devtools_server 2.3.2...
Downloading devtools_server 2.3.3...
Downloading devtools_server 2.4.0...
Downloading devtools_server 2.5.0...
Downloading devtools_server 2.6.0...
Downloading devtools_server 2.7.0...
Downloading devtools_server 2.8.0...
Downloading devtools_server 2.9.2...
Downloading devtools 2.1.1...
Downloading devtools 2.2.1...
Downloading devtools 2.2.2...
Downloading devtools 2.2.3...
Downloading devtools 2.2.4...
Downloading devtools 2.3.2...
Downloading devtools 2.3.3...
Downloading devtools 2.4.0...
Downloading devtools 2.5.0...
Downloading devtools 2.6.0...
Downloading devtools 2.7.0...
Downloading devtools 2.8.0...
Downloading devtools 2.9.2...
Downloading cupertino_icons 1.0.2...
Downloading convert 3.0.0...
Downloading convert 3.0.1...
Downloading collection 1.15.0...
Downloading clock 1.1.0...
Downloading charcode 1.2.0...
Downloading charcode 1.3.1...
Downloading characters 1.1.0...
Downloading boolean_selector 2.1.0...
Downloading browser_launcher 0.1.10...
Downloading browser_launcher 1.0.0...
Downloading async 2.5.0...
Downloading async 2.6.0...
Downloading async 2.6.1...
Downloading async 2.7.0...
Downloading async 2.8.1...
Downloading async 2.8.2...
Downloading args 2.1.0...
Downloading args 2.1.1...
Downloading args 2.2.0...
Downloading args 2.3.0...
Reinstalled 109 packages.
Reactivating devtools 2.6.0...
Building package executables... (2.1s)
Built devtools:devtools.
Installed executable devtools.
Reactivated 1 package.
```

命令`pub cache repair`无效。

回到问题“Cannot fit requested classes in a single dex file”，找到 [这个文章](http://bbs.itying.com/topic/601136e31bbeff13cc4cf0d2)，将【项目】-【android】-【app】- 【build.gradle】文件中的 minSdkVersion，从 16 改为 21，运行项目，顺利打开 app。

刨坑到底，找到 Android Studio 官网的 [这篇文章](https://developer.android.com/studio/build/multidex)，

## <a name="target1">亲测得出两种解决方案</a>

要么将 minSdkVersion 的版本最低升到 21，要么修改 build.gradle 文件，添加①②两句即可成功运行 app。

```gradle
android {
    defaultConfig {
        ...
        minSdkVersion 15
        targetSdkVersion 28
        multiDexEnabled true    //①
    }
    ...
}

dependencies {
    implementation "androidx.multidex:multidex:2.0.1"  //②
}
```

## 剖析该问题

当应用及其引用的方法数超过65536时，就会出现这个 64k 引用限制，规避的方法是：

1. 检查应用的直接依赖项和传递依赖项；
2. 通过 R8 移除未使用的代码。

以下是另一个未解决的坑记录：

但是前面这里的报错还是未解决，而且在 Android Studio 里面，app 还不能运行。

根据这篇 [踩坑指南](https://blog.csdn.net/Notzuonotdied/article/details/102162529)，有介绍更新依赖的命令，`flutter pub pub cache repair`：

```bash
Resetting Git repository for base_library 0.0.1...
Resetting Git repository for flutter_drag_scale 0.0.1...
Resetting Git repository for flutter_jd_address_selector 0.0.1...
Downloading xdg_directories 0.1.2...
Downloading xdg_directories 0.2.0...
Downloading xdg_directories 0.2.0+1...
Downloading webkit_inspection_protocol 0.7.4...
Downloading webkit_inspection_protocol 1.0.0...
Downloading wave 0.1.0...
Downloading web_socket_channel 1.0.15...
Downloading web_socket_channel 1.2.0...
Downloading web_socket_channel 2.1.0...
Downloading watcher 0.9.7+12...
Downloading watcher 0.9.7+15...
Downloading watcher 1.0.0...
Downloading watcher 1.0.1...
Downloading webdriver 2.1.2...
Downloading webdriver 3.0.0...
Downloading xml 4.5.1...
Downloading xml 5.1.0...
Downloading xml 5.1.1...
Downloading xml 5.1.2...
Downloading xml 5.3.0...
Downloading xml 5.3.1...
Downloading yaml 2.1.16...
Downloading yaml 2.2.1...
Downloading yaml 3.1.0...
Downloading webview_flutter 1.0.7...
Downloading win32 2.0.4...
Downloading win32 2.0.5...
Downloading win32 2.1.1...
Downloading win32 2.1.5...
Downloading win32 2.2.4...
Downloading win32 2.2.10...
Downloading win32 2.3.1...
Downloading win32 2.4.1...
Downloading win32 2.4.4...
Downloading win32 2.5.0...
Downloading wakelock 0.1.4+2...
Downloading video_player_web 0.1.4+1...
Downloading video_player_web 2.0.0...
Downloading video_player_web 2.0.1...
Downloading video_player_web 2.0.4...
Downloading video_player_web 2.0.5...
Downloading video_player_web 2.0.7...
Downloading vm_snapshot_analysis 0.5.5...
Downloading vm_snapshot_analysis 0.7.0...
Downloading vm_service 5.5.0...
Downloading vm_service 6.2.0...
Downloading vm_service 7.1.1...
Downloading vm_service 7.3.0...
Downloading vm_service 7.5.0...
Downloading video_player_platform_interface 2.2.0...
Downloading video_player_platform_interface 4.1.0...
Downloading video_player_platform_interface 4.2.0...
Downloading video_player_platform_interface 5.0.0...
Downloading video_player_platform_interface 5.1.0...
Downloading video_player_platform_interface 5.1.1...
Downloading video_player_avfoundation 2.3.1...
Downloading video_player_android 2.3.1...
Downloading video_player_android 2.3.2...
Downloading video_player 2.1.4...
Downloading video_player 2.1.6...
Downloading video_player 2.2.5...
Downloading video_player 2.2.7...
Downloading video_player 2.2.10...
Downloading video_player 2.3.0...
Downloading vibration_web 1.6.2...
Downloading vibration 1.7.3...
Downloading vector_math 2.1.0...
Downloading vector_math 2.1.1...
Downloading uuid 2.2.2...
Downloading uuid 3.0.4...
Downloading uuid 3.0.5...
Downloading uuid 3.0.6...
Downloading usage 3.4.2...
Downloading usage 4.0.2...
Downloading url_launcher_windows 0.0.1+3...
Downloading url_launcher_windows 2.0.0...
Downloading url_launcher_web 0.1.5+3...
Downloading url_launcher_web 2.0.0...
Downloading url_launcher_platform_interface 1.0.9...
Downloading url_launcher_platform_interface 2.0.2...
Downloading url_launcher_macos 0.0.1+9...
Downloading url_launcher_macos 2.0.0...
Downloading url_launcher_linux 0.0.1+4...
Downloading url_launcher_linux 2.0.0...
Downloading url_launcher 5.7.10...
Downloading url_launcher 6.0.3...
Downloading universal_io 2.0.4...
Downloading typed_data 1.3.0...
Downloading transparent_image 1.0.0...
Downloading transformer_page_view 0.1.6...
Downloading toggle_rotate 0.0.5...
Downloading timing 0.1.1+2...
Downloading timeline_list 0.0.5...
Downloading test_core 0.3.12...
Downloading test_core 0.3.15...
Downloading test_core 0.3.19...
Downloading test_core 0.4.0...
Downloading test_core 0.4.2...
Downloading test_core 0.4.9...
Downloading test_api 0.2.19...
Downloading test_api 0.3.0...
Downloading test_api 0.4.2...
Downloading test_api 0.4.3...
Downloading test_api 0.4.8...
Downloading test 1.16.0...
Downloading test 1.16.5...
Downloading test 1.16.8...
Downloading test 1.17.10...
Downloading test 1.17.12...
Downloading test 1.19.5...
Downloading term_glyph 1.2.0...
Downloading synchronized 3.0.0...
Downloading synchronized 3.0.0+2...
Downloading sync_http 0.2.0...
Downloading sync_http 0.3.0...
Downloading supercharged_dart 1.4.0...
Downloading supercharged 1.12.0...
Downloading string_scanner 1.1.0...
Downloading stream_transform 0.0.19...
Downloading stream_transform 2.0.0...
Downloading stream_channel 2.1.0...
Downloading stack_trace 1.10.0...
Downloading sse 3.6.0...
Downloading sse 3.8.3...
Downloading sse 4.1.0...
Downloading sqflite_common 1.0.3...
Downloading sqflite_common 2.0.0+2...
Downloading sqflite_common 2.0.1+1...
Downloading sqflite_common 2.2.0...
Downloading sqflite_common 2.2.1...
Downloading sqflite 1.3.2+4...
Downloading sqflite 2.0.0+3...
Downloading sqflite 2.0.0+4...
Downloading sqflite 2.0.1...
Downloading sqflite 2.0.2...
Downloading sp_util 2.0.3...
Downloading source_span 1.8.0...
Downloading source_span 1.8.1...
Downloading source_maps 0.10.8...
Downloading source_maps 0.10.10...
Downloading source_map_stack_trace 2.1.0...
Downloading smart_flare 0.2.9+1...
Downloading sliding_up_panel 2.0.0+1...
Downloading simple_animations 2.4.2...
Downloading shelf_web_socket 0.2.3...
Downloading shelf_web_socket 1.0.1...
Downloading shelf_static 0.2.9+1...
Downloading shelf_static 1.0.0...
Downloading shelf_static 1.1.0...
Downloading shelf_proxy 0.1.0+7...
Downloading shelf_proxy 1.0.0...
Downloading shelf_proxy 1.0.1...
Downloading shelf_packages_handler 2.0.0...
Downloading shelf_packages_handler 3.0.0...
Downloading shelf 0.7.5...
Downloading shelf 1.1.1...
Downloading shelf 1.1.4...
Downloading shared_preferences_windows 0.0.2+3...
Downloading shared_preferences_windows 2.0.0...
Downloading shared_preferences_windows 2.0.2...
Downloading shared_preferences_windows 2.0.3...
Downloading shared_preferences_web 0.1.2+7...
Downloading shared_preferences_web 2.0.0...
Downloading shared_preferences_web 2.0.2...
Downloading shared_preferences_platform_interface 1.0.4...
Downloading shared_preferences_platform_interface 2.0.0...
Downloading shared_preferences_macos 0.0.1+11...
Downloading shared_preferences_macos 2.0.0...
Downloading shared_preferences_macos 2.0.2...
Downloading shared_preferences_linux 0.0.2+4...
Downloading shared_preferences_linux 2.0.0...
Downloading shared_preferences_linux 2.0.2...
Downloading shared_preferences_linux 2.0.3...
Downloading shared_preferences 0.5.12+4...
Downloading shared_preferences 2.0.5...
Downloading shared_preferences 2.0.6...
Downloading shared_preferences 2.0.8...
Downloading share 0.6.5+4...
Downloading share 2.0.1...
Downloading scrollable_positioned_list 0.1.10...
Downloading scroll_to_index 1.0.6...
Downloading scratch_space 0.0.4...
Downloading scan 1.5.0...
Downloading scan 1.6.0...
Downloading sa_v1_migration 1.1.2...
Downloading rxdart 0.22.6...
Downloading rxdart 0.25.0...
Downloading rxdart 0.27.1...
Downloading rxdart 0.27.2...
Downloading rxdart 0.27.3...
Downloading rounded_letter 0.0.6...
Downloading rational 1.1.0+1...
Downloading r_dotted_line_border 0.1.1...
Downloading quiver 2.0.5...
Downloading quiver 2.1.5...
Downloading quiver 3.0.1...
Downloading quiver 3.0.1+1...
Downloading qr_flutter 3.2.0...
Downloading qr_flutter 4.0.0...
Downloading qr_code_scanner 0.6.1...
Downloading qr 1.3.0...
Downloading qr 2.1.0...
Downloading pull_to_refresh 1.1.6...
Downloading pubspec_parse 0.1.5...
Downloading pubspec_parse 0.1.7...
Downloading pubspec_parse 1.0.0...
Downloading pubspec_parse 1.1.0...
Downloading pubspec_parse 1.2.0...
Downloading pub_semver 1.4.2...
Downloading pub_semver 1.4.4...
Downloading pub_semver 2.0.0...
Downloading pub_semver 2.1.0...
Downloading provider 4.3.3...
Downloading provider 5.0.0...
Downloading provider 6.0.1...
Downloading provider 6.0.2...
Downloading protobuf 0.13.15...
Downloading process 4.0.0...
Downloading process 4.2.1...
Downloading process 4.2.3...
Downloading process 4.2.4...
Downloading pool 1.4.0...
Downloading pool 1.5.0...
Downloading pointycastle 2.0.1...
Downloading pointycastle 3.5.2...
Downloading plugin_platform_interface 1.0.3...
Downloading plugin_platform_interface 2.0.0...
Downloading plugin_platform_interface 2.0.1...
Downloading plugin_platform_interface 2.0.2...
Downloading plugin_platform_interface 2.1.2...
Downloading platform 3.0.0...
Downloading platform 3.0.2...
Downloading platform 3.1.0...
Downloading photo_view 0.9.2...
Downloading photo_view 0.11.1...
Downloading petitparser 3.1.0...
Downloading petitparser 4.1.0...
Downloading petitparser 4.2.0...
Downloading petitparser 4.3.0...
Downloading petitparser 4.4.0...
Downloading permission_handler_platform_interface 1.0.0...
Downloading permission_handler_platform_interface 3.6.0...
Downloading permission_handler_platform_interface 3.6.2...
Downloading permission_handler_platform_interface 3.7.0...
Downloading permission_handler 4.4.0+hotfix.4...
Downloading permission_handler 8.1.1...
Downloading permission_handler 8.1.6...
Downloading permission_handler 8.2.2...
Downloading permission_handler 8.2.5...
Downloading pedantic 1.10.0...
Downloading pedantic 1.11.0...
Downloading pedantic 1.11.1...
Downloading path_provider_windows 0.0.5...
Downloading path_provider_windows 2.0.0...
Downloading path_provider_windows 2.0.1...
Downloading path_provider_windows 2.0.3...
Downloading path_provider_windows 2.0.4...
Downloading path_provider_windows 2.0.5...
Downloading path_provider_platform_interface 1.0.4...
Downloading path_provider_platform_interface 2.0.0...
Downloading path_provider_platform_interface 2.0.1...
Downloading path_provider_platform_interface 2.0.3...
Downloading path_provider_macos 0.0.4+8...
Downloading path_provider_macos 2.0.0...
Downloading path_provider_macos 2.0.2...
Downloading path_provider_macos 2.0.3...
Downloading path_provider_macos 2.0.4...
Downloading path_provider_macos 2.0.5...
Downloading path_provider_linux 0.0.1+2...
Downloading path_provider_linux 2.0.0...
Downloading path_provider_linux 2.1.0...
Downloading path_provider_linux 2.1.1...
Downloading path_provider_linux 2.1.2...
Downloading path_provider_linux 2.1.4...
Downloading path_provider_linux 2.1.5...
Downloading path_provider_ios 2.0.7...
Downloading path_provider_ios 2.0.8...
Downloading path_provider_android 2.0.9...
Downloading path_provider_android 2.0.11...
Downloading path_provider_android 2.0.12...
Downloading path_provider 1.2.0...
Downloading path_provider 1.6.28...
Downloading path_provider 2.0.1...
Downloading path_provider 2.0.2...
Downloading path_provider 2.0.5...
Downloading path_provider 2.0.6...
Downloading path_provider 2.0.7...
Downloading path_provider 2.0.8...
Downloading path_provider 2.0.9...
Downloading path 1.8.0...
Downloading parallax_image 0.3.1+1...
Downloading palette_generator 0.2.3...
Downloading package_resolver 1.0.10...
Downloading package_info 0.4.3+4...
Downloading package_config 1.1.0...
Downloading package_config 1.9.3...
Downloading package_config 2.0.0...
Downloading package_config 2.0.2...
Downloading open_iconic_flutter 0.3.0...
Downloading octo_image 0.3.0...
Downloading octo_image 1.0.0+1...
Downloading octo_image 1.0.1...
Downloading node_preamble 1.4.12...
Downloading node_preamble 1.4.13...
Downloading node_preamble 2.0.0...
Downloading node_preamble 2.0.1...
Downloading node_io 1.1.1...
Downloading node_interop 1.2.1...
Downloading nested 1.0.0...
Downloading native_stack_traces 0.3.7...
Downloading native_stack_traces 0.4.0...
Downloading native_stack_traces 0.4.3...
Downloading mustache_template 1.0.0+1...
Downloading mustache_template 2.0.0...
Downloading multicast_dns 0.2.2...
Downloading multicast_dns 0.3.0...
Downloading multicast_dns 0.3.1...
Downloading multi_image_picker 4.8.01...
Downloading modal_bottom_sheet 1.0.0+1...
Downloading mockito 4.1.1...
Downloading mockito 4.1.1+1...
Downloading mime 0.9.6+3...
Downloading mime 0.9.7...
Downloading mime 1.0.0...
Downloading mime 1.0.1...
Downloading meta 1.3.0...
Downloading meta 1.7.0...
Downloading matrix_gesture_detector 0.1.0...
Downloading material_color_utilities 0.1.3...
Downloading matcher 0.12.10...
Downloading matcher 0.12.11...
Downloading markdown 4.0.0...
Downloading lpinyin 1.1.1...
Downloading logging 0.11.3+2...
Downloading logging 0.11.4...
Downloading logging 1.0.1...
Downloading logging 1.0.2...
Downloading lints 1.0.1...
Downloading kernel 0.3.24...
Downloading jwt_decoder 2.0.1...
Downloading json_rpc_2 2.2.2...
Downloading json_rpc_2 3.0.1...
Downloading json_annotation 3.0.0...
Downloading json_annotation 3.1.1...
Downloading json_annotation 4.0.1...
Downloading json_annotation 4.1.0...
Downloading json_annotation 4.3.0...
Downloading json_annotation 4.4.0...
Downloading js 0.6.1+1...
Downloading js 0.6.3...
Downloading io 0.3.3...
Downloading io 0.3.4...
Downloading io 1.0.0...
Downloading io 1.0.3...
Downloading intl 0.17.0...
Downloading images_picker 1.2.8...
Downloading images_picker 1.2.10...
Downloading image_picker_platform_interface 1.1.6...
Downloading image_picker_platform_interface 2.4.1...
Downloading image_picker_platform_interface 2.4.4...
Downloading image_picker_for_web 2.1.4...
Downloading image_picker_for_web 2.1.5...
Downloading image_picker_for_web 2.1.6...
Downloading image_picker 0.5.4+3...
Downloading image_picker 0.6.7+22...
Downloading image_picker 0.8.4+4...
Downloading image_picker 0.8.4+11...
Downloading image_cropper 1.4.0...
Downloading image_cropper 1.5.0...
Downloading image_gallery_saver 1.6.9...
Downloading image_crop 0.4.0...
Downloading image 3.0.2...
Downloading image 3.0.8...
Downloading image 3.1.0...
Downloading image 3.1.3...
Downloading http_parser 3.1.3...
Downloading http_parser 3.1.4...
Downloading http_parser 4.0.0...
Downloading http_multi_server 2.1.0...
Downloading http_multi_server 2.2.0...
Downloading http_multi_server 3.0.1...
Downloading http 0.12.0+2...
Downloading http 0.12.2...
Downloading http 0.13.3...
Downloading http 0.13.4...
Downloading html 0.14.0+2...
Downloading html 0.14.0+4...
Downloading html 0.15.0...
Downloading graphs 0.2.0...
Downloading glob 1.1.7...
Downloading glob 1.2.0...
Downloading glob 2.0.1...
Downloading glob 2.0.2...
Downloading get 4.3.8...
Downloading get 4.5.1...
Downloading get 4.6.1...
Downloading frontend_server_client 2.1.0...
Downloading frontend_server_client 2.1.2...
Downloading foundation_fluttify 0.9.10+1...
Downloading get_storage 2.0.3...
Downloading fluttertoast 8.0.7...
Downloading fluttertoast 8.0.8...
Downloading fluttertoast 8.0.9...
Downloading flutter_webview_plugin 0.3.11...
Downloading flutter_weather_bg 2.8.2...
Downloading flutter_vector_icons 0.2.1...
Downloading flutter_template_images 1.0.1...
Downloading flutter_template_images 4.0.0...
Downloading flutter_swiper_plus 2.0.4...
Downloading flutter_swiper 1.1.6...
Downloading flutter_star 0.1.2...
Downloading flutter_staggered_grid_view 0.3.4...
Downloading flutter_staggered_grid_view 0.4.0...
Downloading flutter_splash_screen 0.1.0...
Downloading flutter_spinkit 4.1.2+1...
Downloading flutter_spinkit 5.0.0...
Downloading flutter_sound 2.1.1...
Downloading flutter_screenutil 4.0.4+1...
Downloading flutter_screenutil 5.0.0+2...
Downloading flutter_screenutil 5.0.1...
Downloading flutter_screenutil 5.0.2...
Downloading flutter_plugin_android_lifecycle 1.0.11...
Downloading flutter_plugin_android_lifecycle 2.0.5...
Downloading flutter_page_indicator 0.0.3...
Downloading flutter_native_splash 1.2.4...
Downloading flutter_native_splash 1.3.1...
Downloading flutter_native_splash 1.3.2...
Downloading flutter_native_splash 1.3.3...
Downloading flutter_markdown 0.6.1...
Downloading flutter_markdown 0.6.2...
Downloading flutter_lints 1.0.4...
Downloading flutter_inner_drawer 0.5.7+1...
Downloading flutter_html 0.11.1...
Downloading flutter_echart 1.0.2...
Downloading flutter_easyrefresh 2.2.1...
Downloading flutter_colorpicker 0.3.5...
Downloading flutter_chart 0.1.5...
Downloading flutter_cache_manager 1.1.3...
Downloading flutter_cache_manager 2.1.2...
Downloading flutter_cache_manager 3.1.0...
Downloading flutter_cache_manager 3.1.1...
Downloading flutter_cache_manager 3.1.2...
Downloading flutter_cache_manager 3.1.3...
Downloading flutter_cache_manager 3.3.0...
Downloading flutter_blurhash 0.5.0...
Downloading flutter_blurhash 0.6.0...
Downloading flutter_blurhash 0.6.4...
Downloading flutter_bloc 7.0.0...
Downloading flutter_app_icon_badge 2.0.0...
Downloading flutter_app_badger 1.2.0...
Downloading flutter_analog_clock 0.1.1...
Downloading flustars 0.3.3...
Downloading fluintl 0.1.3...
Downloading flip_box_bar_plus 0.9.3+2...
Downloading flukit 1.0.2...
Downloading flare_flutter 2.0.6...
Downloading fl_chart 0.36.1...
Downloading fl_chart 0.36.2...
Downloading fl_chart 0.36.4...
Downloading flare_dart 2.3.4...
Downloading file_testing 2.1.0...
Downloading file_testing 3.0.0...
Downloading fixnum 0.10.9...
Downloading fixnum 0.10.11...
Downloading fixnum 1.0.0...
Downloading file 6.0.0...
Downloading file 6.1.0...
Downloading file 6.1.1...
Downloading file 6.1.2...
Downloading ffi 1.0.0...
Downloading ffi 1.1.0...
Downloading ffi 1.1.1...
Downloading ffi 1.1.2...
Downloading fancy_bottom_navigation 0.3.3...
Downloading fake_async 1.2.0...
Downloading event_bus 2.0.0...
Downloading equatable 2.0.0...
Downloading equatable 2.0.2...
Downloading equatable 2.0.3...
Downloading english_words 3.1.5...
Downloading english_words 4.0.0...
Downloading encrypt 4.1.0...
Downloading encrypt 5.0.1...
Downloading dwds 7.1.1...
Downloading dwds 11.0.2...
Downloading dwds 11.2.0...
Downloading dwds 11.4.0...
Downloading dwds 11.5.1...
Downloading easy_contact_picker 0.0.2...
Downloading dio 1.0.13...
Downloading dio 3.0.10...
Downloading dio 4.0.0...
Downloading dio 4.0.1...
Downloading dio 4.0.4...
Downloading dio 4.0.5...
Downloading devtools_shared 0.9.6+3...
Downloading devtools_shared 2.4.0...
Downloading devtools_shared 2.7.0...
Downloading devtools_shared 2.8.0...
Downloading devtools_server 0.9.6+3...
Downloading devtools 0.9.6+3...
Downloading device_info_platform_interface 1.0.1...
Downloading device_info_platform_interface 2.0.1...
Downloading device_info 0.4.2+10...
Downloading device_info 2.0.3...
Downloading decimal 1.1.0...
Downloading dds 1.7.3...
Downloading dds 1.7.6...
Downloading dds 2.0.4...
Downloading dds 2.1.4...
Downloading dart_style 1.2.10...
Downloading dart_printf 0.5.0...
Downloading cupertino_icons 0.1.3...
Downloading cupertino_icons 1.0.0...
Downloading cupertino_icons 1.0.2...
Downloading cupertino_icons 1.0.3...
Downloading cupertino_icons 1.0.4...
Downloading cube_transition 1.0.2...
Downloading csslib 0.16.1...
Downloading csslib 0.16.2...
Downloading csslib 0.17.0...
Downloading csslib 0.17.1...
Downloading crypto 2.1.3...
Downloading crypto 2.1.5...
Downloading crypto 3.0.1...
Downloading cross_file 0.3.1+1...
Downloading cross_file 0.3.2...
Downloading crop 0.5.2...
Downloading coverage 0.14.2...
Downloading coverage 1.0.2...
Downloading coverage 1.0.3...
Downloading core_location_fluttify 0.4.1...
Downloading cookie_jar 0.0.8...
Downloading convert 2.1.1...
Downloading convert 3.0.0...
Downloading convert 3.0.1...
Downloading connectivity_platform_interface 2.0.1...
Downloading connectivity_macos 0.2.0...
Downloading connectivity_macos 0.2.1+2...
Downloading connectivity_for_web 0.4.0...
Downloading connectivity_for_web 0.4.0+1...
Downloading connectivity 3.0.3...
Downloading connectivity 3.0.6...
Downloading completion 0.2.3...
Downloading completion 1.0.0...
Downloading common_utils 1.2.4...
Downloading collision 0.0.3...
Downloading collection 1.15.0...
Downloading code_builder 3.2.0...
Downloading clock 1.1.0...
Downloading clippy_flutter 1.1.1...
Downloading cli_util 0.2.0...
Downloading cli_util 0.3.0...
Downloading cli_util 0.3.3...
Downloading cli_util 0.3.5...
Downloading chewie 0.9.10...
Downloading checked_yaml 1.0.2...
Downloading checked_yaml 1.0.4...
Downloading checked_yaml 2.0.1...
Downloading charts_flutter 0.10.0...
Downloading charts_common 0.10.0...
Downloading charcode 1.2.0...
Downloading charcode 1.3.1...
Downloading characters 1.1.0...
Downloading characters 1.2.0...
Downloading camera_platform_interface 2.0.1...
Downloading camera_platform_interface 2.1.2...
Downloading camera 0.8.1+2...
Downloading camera 0.8.1+3...
Downloading camera 0.8.1+7...
Downloading cached_network_image_web 1.0.1...
Downloading cached_network_image_platform_interface 1.0.0...
Downloading cached_network_image 2.0.0...
Downloading cached_network_image 2.5.1...
Downloading cached_network_image 3.0.0...
Downloading cached_network_image 3.1.0...
Downloading cached_network_image 3.1.0+1...
Downloading cached_network_image 3.2.0...
Downloading buttons_tabbar 1.3.1...
Downloading built_value 6.7.1...
Downloading built_value 7.1.0...
Downloading built_value 8.1.1...
Downloading built_value 8.1.3...
Downloading built_collection 4.2.2...
Downloading built_collection 4.3.2...
Downloading built_collection 5.1.0...
Downloading built_collection 5.1.1...
Downloading build_runner_core 3.1.1...
Downloading build_web_compilers 2.3.0...
Downloading build_runner 1.6.9...
Downloading build_resolvers 1.0.7...
Downloading build_daemon 2.0.0...
Downloading build_config 0.4.1+1...
Downloading build_modules 2.5.0...
Downloading build 1.1.6...
Downloading bubble_tab_indicator 0.1.6...
Downloading browser_launcher 0.1.8...
Downloading browser_launcher 1.0.0...
Downloading boolean_selector 2.1.0...
Downloading bloc 7.0.0...
Downloading bazel_worker 0.1.21...
Downloading basic_utils 3.9.1...
Downloading basic_utils 3.9.4...
Downloading barcode_scan 2.0.2...
Downloading barcode_flutter 1.1.2...
Downloading badges 1.2.0...
Downloading azlistview 1.1.1...
Downloading audioplayers 0.15.1...
Downloading async 2.5.0...
Downloading async 2.6.1...
Downloading async 2.8.1...
Downloading async 2.8.2...
Downloading asn1lib 0.8.1...
Downloading asn1lib 1.0.3...
Downloading asn1lib 1.1.0...
Downloading args 1.5.2...
Downloading args 1.6.0...
Downloading args 2.0.0...
Downloading args 2.1.0...
Downloading args 2.1.1...
Downloading args 2.2.0...
Downloading args 2.3.0...
Downloading archive 2.0.11...
Downloading archive 2.0.13...
Downloading archive 3.1.2...
Downloading archive 3.1.5...
Downloading archive 3.1.6...
Downloading archive 3.2.2...
Downloading archive 3.3.0...
Downloading animated_text_kit 2.5.4...
Downloading animated_text_kit 4.1.1...
Downloading analyzer 0.38.2...
Downloading analyzer 0.40.6...
Downloading analyzer 1.5.0...
Downloading analyzer 1.7.1...
Downloading analyzer 2.0.0...
Downloading analyzer 2.7.0...
Downloading analyzer 2.8.0...
Downloading amap_core_fluttify 0.12.0...
Downloading amap_location_fluttify 0.17.0...
Downloading alert 2.0.1...
Downloading _fe_analyzer_shared 12.0.0...
Downloading _fe_analyzer_shared 21.0.0...
Downloading _fe_analyzer_shared 22.0.0...
Downloading _fe_analyzer_shared 23.0.0...
Downloading _fe_analyzer_shared 30.0.0...
Downloading _fe_analyzer_shared 31.0.0...
Downloading yaml 2.2.1...
Downloading yaml 3.1.0...
Downloading xml 4.5.1...
Downloading xml 5.3.1...
Downloading xdg_directories 0.1.2...
Downloading xdg_directories 0.2.0+1...
Downloading win32 2.4.1...
Downloading win32 2.4.2...
Downloading win32 2.5.0...
Downloading webkit_inspection_protocol 0.7.4...
Downloading webdriver 2.1.2...
Downloading web_socket_channel 1.2.0...
Downloading watcher 0.9.7+15...
Downloading vm_snapshot_analysis 0.5.5...
Downloading vm_service_client 0.2.6+2...
Downloading vm_service 5.5.0...
Downloading video_player_web 2.0.0-nullsafety.2...
Downloading video_player_web 2.0.7...
Downloading video_player_platform_interface 3.0.0-nullsafety.3...
Downloading video_player_platform_interface 5.1.0...
Downloading video_player_platform_interface 5.1.1...
Downloading video_player_avfoundation 2.3.1...
Downloading video_player_android 2.3.1...
Downloading video_player_android 2.3.2...
Downloading video_player 2.0.0-nullsafety.2...
Downloading video_player 2.3.0...
Downloading uuid 2.2.2...
Downloading uuid 3.0.6...
Downloading vector_math 2.1.0...
Downloading vector_math 2.1.1...
Downloading usage 3.4.2...
Downloading url_launcher_windows 0.1.0-nullsafety.2...
Downloading url_launcher_platform_interface 2.0.0-nullsafety.1...
Downloading url_launcher_macos 0.1.0-nullsafety.2...
Downloading url_launcher_linux 0.1.0-nullsafety.3...
Downloading universal_io 2.0.4...
Downloading url_launcher 6.0.0-nullsafety.1...
Downloading typed_data 1.3.0...
Downloading test_core 0.3.12...
Downloading test_api 0.2.19...
Downloading test_api 0.4.3...
Downloading test_api 0.4.8...
Downloading term_glyph 1.2.0...
Downloading test 1.16.0...
Downloading synchronized 3.0.0...
Downloading synchronized 3.0.0+2...
Downloading sync_http 0.2.0...
Downloading stream_transform 1.2.0...
Downloading string_scanner 1.1.0...
Downloading stream_channel 2.1.0...
Downloading sse 3.6.0...
Downloading stack_trace 1.10.0...
Downloading sqflite_common 2.2.0...
Downloading sqflite_common 2.2.1...
Downloading sqflite 2.0.2...
Downloading source_span 1.8.0...
Downloading source_span 1.8.1...
Downloading source_maps 0.10.10...
Downloading source_map_stack_trace 2.1.0...
Downloading shrine_images 1.1.2...
Downloading shelf_web_socket 0.2.3...
Downloading shelf_proxy 0.1.0+7...
Downloading shelf_static 0.2.9+1...
Downloading rxdart 0.27.3...
Downloading shelf_packages_handler 2.0.0...
Downloading shelf 0.7.5...
Downloading quiver 2.1.5...
Downloading r_dotted_line_border 0.1.1...
Downloading pubspec_parse 0.1.7...
Downloading pub_semver 1.4.4...
Downloading provider 6.0.2...
Downloading process_runner 4.0.0-nullsafety.5...
Downloading process 4.0.0...
Downloading process 4.2.4...
Downloading pool 1.5.0...
Downloading pointycastle 3.5.2...
Downloading plugin_platform_interface 1.1.0-nullsafety.1...
Downloading plugin_platform_interface 2.1.2...
Downloading platform 3.0.0...
Downloading platform 3.1.0...
Downloading photo_view 0.11.1...
Downloading petitparser 3.1.0...
Downloading petitparser 4.4.0...
Downloading path_provider_windows 2.0.5...
Downloading path_provider_platform_interface 1.0.4...
Downloading path_provider_platform_interface 2.0.3...
Downloading path_provider_macos 0.0.4+8...
Downloading path_provider_macos 2.0.5...
Downloading pedantic 1.10.0...
Downloading pedantic 1.11.1...
Downloading path_provider_linux 0.0.1+2...
Downloading path_provider_linux 2.1.5...
Downloading path_provider_ios 2.0.8...
Downloading path_provider_android 2.0.12...
Downloading path_provider 1.6.14...
Downloading path_provider 2.0.9...
Downloading package_config 1.9.3...
Downloading octo_image 1.0.1...
Downloading path 1.8.0...
Downloading node_preamble 1.4.12...
Downloading node_io 1.1.1...
Downloading node_interop 1.2.1...
Downloading nested 1.0.0...
Downloading native_stack_traces 0.3.7...
Downloading mustache_template 1.0.0+1...
Downloading multicast_dns 0.2.2...
Downloading mockito 4.1.1...
Downloading meta 1.3.0...
Downloading meta 1.7.0...
Downloading material_color_utilities 0.1.3...
Downloading matcher 0.12.10...
Downloading matcher 0.12.11...
Downloading mime 0.9.7...
Downloading json_rpc_2 2.2.2...
Downloading json_annotation 3.1.1...
Downloading json_annotation 4.4.0...
Downloading isolate 2.0.3...
Downloading logging 0.11.4...
Downloading logging 1.0.2...
Downloading io 0.3.4...
Downloading intl 0.17.0...
Downloading image_picker_for_web 2.1.6...
Downloading js 0.6.3...
Downloading image_picker_platform_interface 2.4.4...
Downloading image_cropper 1.5.0...
Downloading image_crop 0.4.0...
Downloading http_parser 3.1.4...
Downloading http_parser 4.0.0...
Downloading image_picker 0.8.4+11...
Downloading image 2.1.19...
Downloading image 3.1.3...
Downloading http_multi_server 2.2.0...
Downloading http 0.12.2...
Downloading http 0.13.4...
Downloading html 0.14.0+4...
Downloading html 0.15.0...
Downloading glob 1.2.0...
Downloading get_storage 2.0.3...
Downloading fluttertoast 8.0.9...
Downloading get 4.6.1...
Downloading flutter_swiper_plus 2.0.4...
Downloading flutter_plugin_android_lifecycle 2.0.5...
Downloading flutter_native_splash 1.3.3...
Downloading flutter_gallery_assets 0.2.6...
Downloading flutter_template_images 1.0.1...
Downloading flutter_cache_manager 3.3.0...
Downloading flutter_blurhash 0.6.4...
Downloading flutter_app_icon_badge 2.0.0...
Downloading fl_chart 0.36.4...
Downloading fixnum 0.10.11...
Downloading file_testing 2.1.0...
Downloading file 6.0.0...
Downloading file 6.1.2...
Downloading ffi 1.1.2...
Downloading fake_async 1.2.0...
Downloading equatable 2.0.3...
Downloading encrypt 5.0.1...
Downloading e2e 0.7.0+1...
Downloading dio 4.0.4...
Downloading dwds 7.1.1...
Downloading devtools_shared 0.9.6+3...
Downloading devtools_server 0.9.6+3...
Downloading devtools 0.9.6+3...
Downloading device_info_platform_interface 2.0.0-nullsafety.2...
Downloading device_info_platform_interface 2.0.1...
Downloading dds 1.7.3...
Downloading device_info 2.0.0-nullsafety.1...
Downloading device_info 2.0.3...
Downloading dart_style 1.3.10...
Downloading cupertino_icons 1.0.2...
Downloading cupertino_icons 1.0.4...
Downloading crypto 2.1.5...
Downloading crypto 3.0.1...
Downloading cross_file 0.1.0...
Downloading cross_file 0.3.2...
Downloading csslib 0.16.2...
Downloading csslib 0.17.1...
Downloading crop 0.5.2...
Downloading coverage 0.14.2...
Downloading convert 2.1.1...
Downloading convert 3.0.1...
Downloading connectivity_macos 0.1.0+7...
Downloading connectivity_macos 0.2.1+2...
Downloading connectivity_platform_interface 2.0.0-nullsafety.1...
Downloading connectivity_platform_interface 2.0.1...
Downloading connectivity_for_web 0.4.0+1...
Downloading connectivity 3.0.0-nullsafety.1...
Downloading connectivity 3.0.6...
Downloading completion 0.2.3...
Downloading collision 0.0.3...
Downloading collection 1.15.0...
Downloading clock 1.1.0...
Downloading cli_util 0.2.0...
Downloading checked_yaml 1.0.4...
Downloading charcode 1.2.0...
Downloading charcode 1.3.1...
Downloading characters 1.1.0...
Downloading characters 1.2.0...
Downloading camera_platform_interface 1.5.0...
Downloading camera 0.6.4+5...
Downloading cached_network_image_web 1.0.1...
Downloading cached_network_image_platform_interface 1.0.0...
Downloading cached_network_image 3.2.0...
Downloading built_value 7.1.0...
Downloading built_collection 4.3.2...
Downloading browser_launcher 0.1.8...
Downloading boolean_selector 2.1.0...
Downloading battery_platform_interface 1.0.0...
Downloading battery 1.0.11...
Downloading basic_utils 3.9.4...
Downloading async 2.5.0...
Downloading async 2.8.2...
Downloading asn1lib 1.1.0...
Downloading args 1.6.0...
Downloading args 2.3.0...
Downloading archive 2.0.13...
Downloading archive 3.2.2...
Downloading archive 3.3.0...
Downloading analyzer 0.40.6...
Downloading _fe_analyzer_shared 12.0.0...
Downloading alert 2.0.1...
Reinstalled 871 packages.
```

在 Android Studio 下，先单击项目，【File】-【Invalidate Caches】，使缓存无效并重启，`flutter packages get`，至此，在Android Studio 下，app 也可正常运行。

但是，<a href="#target2">前面这里</a>的问题，始终存在，一个 .pubcache 文件的报错，一个缓存文件，暂时未找到解决方案。

<div style="color:skyblue;font-weight:bold;text-align:center;padding-top:5rem;padding-bottom:5rem;">————————TBC————————</div>



















